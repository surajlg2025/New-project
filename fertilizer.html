<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5" />
  <title>Smart Fertilizer Planner ¬∑ Sahifasal</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', 'Segoe UI', Roboto, system-ui, sans-serif;
    }

    body {
      background: #f0f9f0;
      background-image: radial-gradient(circle at 10% 30%, rgba(70, 150, 70, 0.03) 0%, transparent 30%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .container {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #1f5e2e;
      font-size: 2.5rem;
      font-weight: 650;
      letter-spacing: -0.02em;
      margin-bottom: 0.75rem;
      text-shadow: 0 2px 5px rgba(40, 90, 40, 0.1);
    }

    
    .card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      border: 1px solid #d9ebd9;
      border-radius: 32px;
      padding: 2rem 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 20px 35px -10px rgba(30, 80, 40, 0.25);
      transition: transform 0.2s ease, box-shadow 0.25s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 28px 40px -12px #2b5e2b80;
      background: rgba(255, 255, 255, 0.98);
    }

    .card h3 {
      font-size: 1.8rem;
      font-weight: 600;
      color: #1d4e1d;
      margin-bottom: 1.8rem;
      display: flex;
      align-items: center;
      gap: 10px;
      border-left: 7px solid #3d9b3d;
      padding-left: 1.3rem;
    }

    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.8rem;
      margin-bottom: 1.5rem;
    }

    .form-field {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }

    .form-field label {
      font-weight: 600;
      color: #1e4620;
      font-size: 0.95rem;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      opacity: 0.8;
    }

    .form-field input,
    .form-field select {
      background: #f6fef6;
      border: 2px solid #d0e7d0;
      border-radius: 18px;
      padding: 0.9rem 1.2rem;
      font-size: 1rem;
      color: #173318;
      outline: none;
      transition: all 0.15s;
    }

    .form-field input:focus,
    .form-field select:focus {
      border-color: #2e8b57;
      box-shadow: 0 0 0 4px #a8e4b0;
      background: white;
    }

    .form-field input:hover,
    .form-field select:hover {
      border-color: #52b152;
    }

    button {
      background: #1d7a2d;
      border: none;
      color: white;
      font-weight: 600;
      font-size: 1.25rem;
      padding: 1rem 2rem;
      border-radius: 50px;
      cursor: pointer;
      width: auto;
      min-width: 260px;
      margin: 0.8rem 0 0.5rem;
      box-shadow: 0 10px 18px -8px #1d7a2d80;
      transition: 0.15s;
      border: 1px solid #9fdf9f;
      letter-spacing: 0.3px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    button:hover {
      background: #166b24;
      transform: scale(1.02);
      box-shadow: 0 16px 22px -8px #145d20;
    }

    button:active {
      transform: scale(0.98);
    }

   
    .summary {
      background: #e1f5e1;
      border-radius: 24px;
      padding: 1.5rem 2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 2.5rem;
      align-items: center;
      border: 1px solid #b3dcb3;
    }

    .summary p {
      font-size: 1.2rem;
      color: #164a16;
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 0;
    }

    .summary b {
      color: #0b4b0b;
      font-weight: 700;
      background: #c0e6c0;
      padding: 0.3rem 1rem;
      border-radius: 40px;
      font-size: 0.9rem;
      margin-right: 6px;
    }

    
    .table-wrapper {
      overflow-x: auto;
      border-radius: 24px;
      background: #ecf9ec;
      padding: 2px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 6px 18px #c0ddc0;
    }

    th {
      background: #256d36;
      color: white;
      font-weight: 600;
      font-size: 1rem;
      padding: 1.1rem 0.8rem;
      text-align: center;
      letter-spacing: 0.4px;
    }

    td {
      padding: 1rem 0.8rem;
      text-align: center;
      border-bottom: 1px solid #d0f0d0;
      color: #1d451d;
      font-weight: 500;
    }

    tr:last-child td {
      border-bottom: none;
    }

    tbody tr:hover td {
      background: #e2ffe2;
    }

    
    .advisory {
      background: #fff9e3;
      border-left: 8px solid #eba031;
      border-radius: 24px;
      padding: 1.5rem 2rem;
      font-size: 1.25rem;
      line-height: 1.6;
      color: #4f3f1a;
      box-shadow: 0 8px 18px #ffe9b0;
      border-right: 2px solid #ffd966;
    }

    
    .download-card {
      display: flex;
      justify-content: center;
    }

    .print-btn {
      background: #405e40;
      box-shadow: none;
      min-width: 200px;
      font-size: 1.1rem;
      background: #2f4d2f;
    }
    .print-btn:hover {
      background: #1f3a1f;
    }

    
    [style*="display:none"] {
      display: none !important;
    }

    @media (max-width: 600px) {
      body { padding: 0.8rem; }
      h1 { font-size: 2rem; }
      .card { padding: 1.5rem 1.2rem; }
      .card h3 { font-size: 1.5rem; }
      .form-grid { gap: 1.2rem; }
      button { width: 100%; min-width: auto; }
      .summary { flex-direction: column; align-items: flex-start; gap: 1rem; padding: 1.2rem; }
      .summary p { font-size: 1rem; }
      th, td { padding: 0.7rem 0.3rem; font-size: 0.9rem; }
      .advisory { font-size: 1rem; padding: 1rem; }
    }

   
    .fertilizer-icon {
      font-size: 2rem;
      vertical-align: middle;
    }
  </style>
</head>
<body>
<div class="container">

  <h1> Smart Fertilizer Planner</h1>

 
  <div class="card">
    <h3> Farmer Details</h3>
    <div class="form-grid">
      <div class="form-field">
        <label> Location</label>
        <input type="text" id="location" placeholder="e.g., Nagpur" value="">
      </div>
      <div class="form-field">
        <label> Crop</label>
        <select id="crop">
          <option value="" disabled selected>Select Crop</option>
          <option value="Rice">Rice (paddy)</option>
          <option value="Wheat">Wheat</option>
          <option value="Maize">Maize (corn)</option>
        </select>
      </div>
      <div class="form-field">
        <label> Sowing Date</label>
        <input type="date" id="sowingDate">
      </div>
      <div class="form-field">
        <label> Soil Type</label>
        <select id="soil">
          <option>Black soil</option>
          <option>Red soil</option>
          <option>Loamy soil</option>
          <option>Sandy soil</option>
        </select>
      </div>
    </div>
    <div style="display: flex; justify-content: center;">
      <button onclick="getSchedule()"> Get Fertilizer Schedule </button>
    </div>
  </div>

 
  <div class="card" id="summaryCard" style="display: none;">
    <h3> Crop Summary</h3>
    <div class="summary">
      <p><b>Crop</b> <span id="sCrop">‚Äî</span></p>
      <p><b>Location</b> <span id="sLocation">‚Äî</span></p>
      <p><b>Sowing date</b> <span id="sDate">‚Äî</span></p>
      <p><b>Soil type</b> <span id="sSoil">‚Äî</span></p>
    </div>
  </div>

 
  <div class="card" id="tableCard" style="display: none;">
    <h3> Fertilizer Schedule</h3>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr><th>Stage</th><th>Days after sowing</th><th>Fertilizer</th><th>Quantity</th><th>Method</th></tr>
        </thead>
        <tbody id="scheduleTable"></tbody>
      </table>
    </div>
  </div>

  
  <div class="card" id="advisoryCard" style="display: none;">
    <h3> Smart Advisory</h3>
    <div class="advisory" id="advisoryText">
      
    </div>
  </div>

 
  <div class="card download-card" id="downloadCard" style="display: none;">
    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print / Download PDF</button>
  </div>

</div>

<script>
  function getSchedule() {
    const crop = document.getElementById("crop").value;
    const location = document.getElementById("location").value.trim();
    const sowingDate = document.getElementById("sowingDate").value;
    const soil = document.getElementById("soil").value;

    if (!crop || !location || !sowingDate) {
      alert(" Please fill in all required fields: location, crop, and sowing date.");
      return;
    }

    
    document.getElementById("summaryCard").style.display = "block";
    document.getElementById("tableCard").style.display = "block";
    document.getElementById("advisoryCard").style.display = "block";
    document.getElementById("downloadCard").style.display = "flex"; // or block

    document.getElementById("sCrop").innerText = crop;
    document.getElementById("sLocation").innerText = location;
    document.getElementById("sDate").innerText = sowingDate;
    document.getElementById("sSoil").innerText = soil;

    
    let data = [];
    if (crop === "Rice") {
      data = [
        { stage: " Basal / transplanting", day: "0", fert: "DAP + Urea", qty: "40 + 20 kg/ha", method: "Soil application" },
        { stage: " Tillering", day: "20‚Äì25", fert: "Urea", qty: "30 kg/ha", method: "Top dressing" },
        { stage: " Panicle initiation", day: "45‚Äì50", fert: "NPK (12‚Äë32‚Äë16)", qty: "25 kg/ha", method: "Soil / drip" }
      ];
    } else if (crop === "Wheat") {
      data = [
        { stage: " Sowing (basal)", day: "0", fert: "DAP", qty: "50 kg/ha", method: "Soil application" },
        { stage: " Crown root initiation", day: "21", fert: "Urea", qty: "25 kg/ha", method: "Top dressing" },
        { stage: "Booting", day: "45‚Äì50", fert: "NPK", qty: "20 kg/ha", method: "Broadcast" }
      ];
    } else { // Maize
      data = [
        { stage: "Sowing (basal)", day: "0", fert: "DAP", qty: "40 kg/ha", method: "Soil" },
        { stage: " Knee‚Äëhigh stage", day: "25‚Äì30", fert: "Urea", qty: "30 kg/ha", method: "Top dressing" },
        { stage: " Tasselling", day: "45‚Äì50", fert: "NPK", qty: "25 kg/ha", method: "Soil / drip" }
      ];
    }

    const tbody = document.getElementById("scheduleTable");
    tbody.innerHTML = "";
    data.forEach(row => {
      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${row.stage}</td><td>${row.day}</td><td>${row.fert}</td><td>${row.qty}</td><td>${row.method}</td>`;
      tbody.appendChild(tr);
    });


    const adviceMsg = ` Rainfall is expected in the next few days in ${location}. Consider delaying urea application to reduce nitrogen loss. For ${crop}, maintain optimal moisture and watch for pest incidence during flowering.`;
    document.getElementById("advisoryText").innerText = adviceMsg;
  }

 
  document.addEventListener('DOMContentLoaded', function() {
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('sowingDate').setAttribute('max', today); // sowing can't be future usually
    
  });
</script>


</body>
</html>